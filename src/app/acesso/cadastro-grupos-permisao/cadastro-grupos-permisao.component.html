<div class="grid">
  <div class="col-12">
    <h1>Cadastro de Grupo de Permisões</h1>
  </div>
  <div class="col-12">
    <div class="p-fluid formgrid grid">
      <form (ngSubmit)="criar()" [formGroup]="form" class="w-full">
        <div class="col-12 field md:col-3 field">
          <label>Status</label>
          <p-toggleButton
            formControlName="ativo"
            onLabel="Ativo"
            offLabel="Desativado"
          ></p-toggleButton>
        </div>

        <div class="col-12 md:col-6 field">
          <label>Descrição</label>
          <input type="text" pInputText formControlName="descricao" />
          <div
            class="error-customize"
            *ngIf="
              form.get('descricao')!.touched || form.get('descricao')!.dirty
            "
          >
            <p-message
              *ngIf="form.get('descricao')!.hasError('required')"
              severity="error"
              text="Campo com preenchimento obrigatorio"
            ></p-message>
            <p-message
              *ngIf="form.get('descricao')!.hasError('minlength')"
              severity="error"
              text="Digite no minimo 3 caracteres"
            ></p-message>
          </div>
        </div>
        <div class="col-12 md:col-6 field">
          <p-tree
            scrollHeight="400px"
            [value]="filesTree"
            selectionMode="checkbox"
            [(selection)]="selectPermissoes"
          ></p-tree>
        </div>

        <div class="grid">
          <div class="col-12 md:col-2 field">
            <button
              pButton
              label="Salvar"
              [disabled]="!isValid() || !authService.temPermissao('31')"
            ></button>
          </div>
          <div class="col-12 md:col-2 field">
            <button
              type="reset"
              pButton
              label="Limpar"
              class="p-button-danger"
            ></button>
          </div>
          <div class="col-12 md:col-2 field">
            <a
              routerLink="/grupoacesso"
              pButton
              (click)="clearForm()"
              class="p-button-secondary p-button-outlined"
              label="Voltar para Listagem"
            ></a>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
